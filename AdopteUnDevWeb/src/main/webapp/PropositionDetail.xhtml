<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
<ui:composition template="WEB-INF/lesimports.xhtml">
    <ui:define name="head">

    </ui:define>
    <ui:define name="title">#{mBPropositionDetail.mBPropositionParUtilisateur.cdc.projet.libelle}</ui:define>
    <ui:define name="body">
        <div class="section">
            <div class="container">
                <div class="row">
                    <div class="col-sm-6">
                        <div class="product-image-large">
                            <img src="#{mBPropositionDetail.mBPropositionParUtilisateur.cdc.projet.photo}" alt="image projet"/>
                        </div>
                    </div>
                    <div class="col-lg-offset-1 col-sm-5 product-details">
                        <div>
                         <h5>Tarif</h5>
                        </div>
                        <div class="price">
                            #{mBPropositionDetail.mBPropositionParUtilisateur.cdc.tarif}€
                        </div>
                        
                        
                        
                        <div>
                       <!--  Vue développeur -->
                        <h:panelGroup rendered="#{mBConnexion.typeUtilisateur==1}">
                         <h:panelGroup rendered="#{mBPropositionDetail.mBPropositionParUtilisateur.proposition.typeProposition.idTypeProposition==1}">
                        <h5>Etat de la proposition</h5>
                                <p>Non traitée <img src= "resources/img/question58.png" style="margin-left: 5px"/></p>
                          </h:panelGroup>    
                            <h:panelGroup rendered="#{mBPropositionDetail.mBPropositionParUtilisateur.proposition.typeProposition.idTypeProposition==2}">
                        <h5>Etat de la proposition</h5>
                                <p>En attente de validation <img src= "resources/img/clock136.png" style="margin-left: 5px"/></p>
                          </h:panelGroup>     
                            <h:panelGroup rendered="#{mBPropositionDetail.mBPropositionParUtilisateur.proposition.typeProposition.idTypeProposition==4}">
                        <h5>Etat de la proposition</h5>
                                <p>Refusée <img src= "resources/img/cancel19.png" style="margin-left: 5px"/></p>
                          </h:panelGroup>  
                          </h:panelGroup>
                          
                          <!-- Vue client  -->
                         <h:panelGroup rendered="#{mBConnexion.typeUtilisateur==2}">
                         <h:panelGroup rendered="#{mBPropositionDetail.mBPropositionParUtilisateur.proposition.typeProposition.idTypeProposition==1}">
                        <h5>Etat de la proposition</h5>
                                <p>Non traitée <img src= "resources/img/question58.png" style="margin-left: 5px"/></p>
                          </h:panelGroup>    
                            <h:panelGroup rendered="#{mBPropositionDetail.mBPropositionParUtilisateur.proposition.typeProposition.idTypeProposition==2}">
                        <h5>Etat de la proposition</h5>
                                <p>En attente de validation <img src= "resources/img/clock136.png" style="margin-left: 5px"/></p>
                          </h:panelGroup>     
                            <h:panelGroup rendered="#{mBPropositionDetail.mBPropositionParUtilisateur.proposition.typeProposition.idTypeProposition==4}">
                        <h5>Etat de la proposition</h5>
                                <p>Refusée <img src= "resources/img/cancel19.png" style="margin-left: 5px"/></p>
                          </h:panelGroup>  
                          </h:panelGroup>
                          </div>
                       
                       
                       
                        <h:panelGroup rendered="#{mBConnexion.typeUtilisateur==1}">
                            <div>
                                <h5>Porteur du projet</h5>
                                <p>#{mBProjetDetail.mBProjetParUtilisateur.projet.client.nom} #{mBProjetDetail.mBProjetParUtilisateur.projet.client.prenom}</p>
                            </div>
                            <br/>
                            <div>
                                <h5>Date de Livrable</h5>
                                <p>#{mBProjetDetail.cdc.dateFinEstimee}</p>
                            </div>
                            <div>
                                <h5>Type de projet</h5>
                                <p>#{mBProjetDetail.mBProjetParUtilisateur.projet.service.libelle}</p>
                            </div>
                        </h:panelGroup>
                        <!--client = 2-->
                        
                        <h:panelGroup rendered="#{mBConnexion.typeUtilisateur==2}">
                            <div>
                                <h5>Développeur en charge</h5>
                                <p>En cours de sélection.</p>
                            </div>
                            <div>
                                <h5>Date de Livrable</h5>
                                <p>#{mBProjetDetail.cdc.dateFinEstimee.toString().subSequence(0, 10)}</p>
                            </div>
                            <div>
                                <h5>Type du projet</h5>
                                <p>#{mBProjetDetail.mBProjetParUtilisateur.projet.service.libelle}</p>
                            </div>
                        </h:panelGroup>
                    </div>
                    
                    
                   <!--  Pour developpeur -->
                     <h:panelGroup rendered="#{mBConnexion.typeUtilisateur==1}">
                    <h:panelGroup rendered="#{mBPropositionDetail.mBPropositionParUtilisateur.proposition.typeProposition.idTypeProposition==1}">
                    <div style="clear: both; margin-left: 200px;">
                    <h:commandLink style="margin:10px" svalue="" class="btn btn-small"><i
											class="icon-shopping-cart icon-white"></i>Accepter</h:commandLink>
					
					 <h:commandLink value="" class="btn btn-small"><i
											class="icon-shopping-cart icon-white"></i>Refuser</h:commandLink>
                    </div>
                    </h:panelGroup>
                    </h:panelGroup>
                    
                    
                  <!--   Pour client -->
                    <h:panelGroup rendered="#{mBConnexion.typeUtilisateur==2}">
                                        <h:panelGroup rendered="#{mBPropositionDetail.mBPropositionParUtilisateur.proposition.typeProposition.idTypeProposition==2}">
                    <div style="clear: both; margin-left: 200px;">
                    <h:commandLink style="margin:10px" svalue="" class="btn btn-small"><i
											class="icon-shopping-cart icon-white"></i>Valider</h:commandLink>
					
					 <h:commandLink value="" class="btn btn-small"><i
											class="icon-shopping-cart icon-white"></i>Refuser</h:commandLink>
                    </div>
                    </h:panelGroup>
                    </h:panelGroup>
                        
                        
                    </div>
                    <div class="col-sm-12">
                        <div class="tabbable">
                            <!-- Tabs -->
                            <ul class="nav nav-tabs product-details-nav">
                                <li class="active"><a href="#tab1" data-toggle="tab">#{mBProjetDetail.cdc.typeCdc.libelle}</a></li>
                            </ul>
                            <div class="tab-content product-detail-info">
                                <div class="tab-pane active" id="tab1">
                                  <h4>Le besoin</h4>
                                    <p>#{mBProjetDetail.cdc.besoin}</p>
                                    <h4>Les contexte</h4>
                                    <p>#{mBProjetDetail.cdc.contexte}</p>
                                     <h4>L'existant</h4>
                                    <p>#{mBProjetDetail.cdc.existant}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- End Full Description & Specification -->
                </div>
            </div>
    </ui:define>
</ui:composition>
</html>